@use 'sass:map';
@use '../style/base';

$container-px: (
  'sm': map.get(base.$dim-container-px, 'sm'),
  'md': map.get(base.$dim-container-px, 'md'),
  'lg': map.get(base.$dim-container-px, 'lg'),
  'xl': map.get(base.$dim-container-px, 'xl'),
  'xxl': 3.75rem,
);
$tab-px: (
  'sm': 0.5rem,
  'md': 1.75rem,
  'lg': map.get(base.$dim-container-px, 'lg'),
  'xl': map.get(base.$dim-container-px, 'xl'),
  'xxl': 3.75rem,
);
$container-py: (
  'sm': map.get(base.$dim-container-py, 'sm'),
  'md': map.get(base.$dim-container-py, 'md'),
  'lg': map.get(base.$dim-container-py, 'lg'),
  'xl': map.get(base.$dim-container-py, 'xl'),
  'xxl': 3.5rem,
);
$container-gx: (
  'sm': map.get(base.$dim-container-gx, 'sm'),
  'md': map.get(base.$dim-container-gx, 'md'),
  'lg': map.get(base.$dim-container-gx, 'lg'),
  'xl': map.get(base.$dim-container-gx, 'xl'),
  'xxl': map.get(base.$dim-container-gx, 'xxl'),
);
$container-gy: (
  'sm': map.get(base.$dim-container-gy, 'sm'),
  'md': map.get(base.$dim-container-gy, 'md'),
  'lg': map.get(base.$dim-container-gy, 'lg'),
  'xl': map.get(base.$dim-container-gy, 'xl'),
  'xxl': map.get(base.$dim-container-gy, 'xxl'),
);
$w-max: base.$dim-container-w-max;

.container {
  background-color: base.theme-get-val('surface');

  @include base.type-body;
}

.title {
  &-container {
    width: min($w-max, 100% - 2 * map.get($container-px, 'sm'));
    margin-inline: auto;

    @include base.style-md {
      width: min($w-max, 100% - 2 * map.get($container-px, 'md'));
    }

    @include base.style-lg {
      width: min($w-max, 100% - 2 * map.get($container-px, 'lg'));
    }

    @include base.style-xl {
      width: min($w-max, 100% - 2 * map.get($container-px, 'xl'));
    }

    @include base.style-xxl {
      width: min($w-max, 100% - 2 * map.get($container-px, 'xxl'));
    }

    .tab {
      margin-inline: -1 *
        (map.get($container-px, 'sm') - map.get($tab-px, 'sm'));

      @include base.style-md {
        margin-inline: -1 *
          (map.get($container-px, 'md') - map.get($tab-px, 'md'));
      }

      @include base.style-lg {
        margin-inline: -1 *
          (map.get($container-px, 'lg') - map.get($tab-px, 'lg'));
      }

      @include base.style-xl {
        margin-inline: -1 *
          (map.get($container-px, 'xl') - map.get($tab-px, 'xl'));
      }

      @include base.style-xxl {
        margin-inline: -1 *
          (map.get($container-px, 'xxl') - map.get($tab-px, 'xxl'));
      }
    }
  }
}

.article {
  &-container {
    display: grid;
    grid-template-columns:
      minmax(map.get($container-px, 'sm'), 1fr) minmax(auto, $w-max)
      minmax(map.get($container-px, 'sm'), 1fr);
    grid-auto-rows: min-content;
    margin-inline: auto;

    @include base.style-md {
      grid-template-columns:
        minmax(map.get($container-px, 'md'), 1fr) minmax(auto, $w-max)
        minmax(map.get($container-px, 'md'), 1fr);
    }

    @include base.style-lg {
      grid-template-columns:
        minmax(map.get($container-px, 'lg'), 1fr) minmax(auto, $w-max)
        minmax(map.get($container-px, 'lg'), 1fr);
    }

    @include base.style-xl {
      grid-template-columns:
        minmax(map.get($container-px, 'xl'), 1fr) minmax(auto, $w-max)
        minmax(map.get($container-px, 'xl'), 1fr);
    }

    @include base.style-xxl {
      grid-template-columns:
        minmax(map.get($container-px, 'xxl'), 1fr) minmax(auto, $w-max)
        minmax(map.get($container-px, 'xxl'), 1fr);
      column-gap: 1.5rem;
    }
  }

  &-index-container {
    position: relative;
    grid-row: 1;
    grid-column: 2;

    @include base.style-xxl {
      grid-row: 1;
      grid-column: 3;
    }
  }

  &-index {
    position: sticky;
    top: 0;
  }

  grid-row: 2;
  grid-column: 2;
  word-break: break-all;
  overflow-wrap: anywhere;

  @include base.style-md {
    word-break: keep-all;
    overflow-wrap: break-word;
  }

  @include base.style-xxl {
    grid-row: 1;
    grid-column: 2;
  }

  &-quote {
    max-width: base.$dim-hangul-20ch * 2;
    padding-left: 12px - 2px;
    text-wrap: balance;
    word-break: keep-all;
    overflow-wrap: break-word;
    border-left: 2px solid base.theme-get-val('primary');

    @include base.type-subtitle;

    @include base.style-md {
      padding-left: 16px - 2px;
    }
  }

  &-column {
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    justify-content: center;

    img {
      align-self: start;
      width: 480px;
    }

    &-text {
      flex-basis: base.$dim-hangul-20ch;
      flex-grow: 1;

      @include base.type-body;
    }
  }
}

// .container {
//   padding-block: $py;
//   color: base.theme-get-val('on-surface');

//   @include base.type-body;

//   p {
//     margin-bottom: 1em;
//   }
// }

// .titles {
//   // color: base.theme-get-val('primary-outline');
// }

// .grp {
//   &-top {
//     max-width: min($w-max, 100% - 2 * $px);
//     margin-inline: auto;
//     margin-bottom: 0.9375rem;
//   }

//   &-bottom {
//     max-width: min($w-max, 100% - 2 * $px);
//     margin-inline: auto;
//   }
// }

// .nav {
//   position: relative;
//   margin-bottom: 1rem;

//   @include base.type-label;
// }

// .table {
//   width: fit-content;

//   &-title {
//     @include base.type-label-lg;
//   }

//   ul {
//     padding-left: 0.4375rem;
//     list-style: none;
//     border-left: 1px solid base.theme-get-val('outline-variant');
//   }
// }

// .article {
//   h1,
//   h2,
//   h3,
//   h4,
//   h5,
//   h6 {
//     display: flex;
//     gap: 0.5rem;
//     align-items: center;

//     // color: base.theme-get-val('primary-outline');
//     &::before {
//       display: block;
//       width: 8px;
//       height: 8px;
//       content: '';
//       border: 0.125rem solid base.theme-get-val('primary-outline');
//       border-radius: 256rem;
//     }
//   }
// }

// .quote {
//   max-width: base.$dim-hangul-20ch * 2;
//   padding-left: 15px;
//   color: base.theme-get-val('on-surface-variant');
//   text-wrap: balance;
//   border-left: 1px solid base.theme-get-val('primary-outline');

//   @include base.type-subtitle;
// }

// .column {
//   display: flex;
//   flex-flow: column;
//   gap: 24px;
//   align-items: center;
//   justify-content: start;

//   > img {
//     flex-shrink: 0;
//     width: 640px;
//   }

//   &-text {
//     flex: 1 0 0;
//   }
// }

// @media (width > map.get(base.$dim-bp-gt, 'md')) {
//   $px: map.get(base.$dim-container-px, 'md');
//   $py: map.get(base.$dim-container-py, 'md');
//   $gap-x: map.get(base.$dim-container-gx, 'md');
//   $gap-y: map.get(base.$dim-container-gy, 'md');

//   .container {
//     padding-block: $py;
//   }

//   .grp {
//     &-top {
//       max-width: min($w-max, 100% - 2 * $px);
//     }

//     &-bottom {
//       max-width: min($w-max, 100% - 2 * $px);
//     }
//   }

//   .column {
//     flex-flow: row wrap;
//     align-content: start;
//     align-items: start;
//     justify-content: center;

//     &-text {
//       min-width: base.$dim-hangul-20ch-px * 1;
//     }
//   }
// }

// @media (width > map.get(base.$dim-bp-gt, 'lg')) {
//   $px: map.get(base.$dim-container-px, 'lg');
//   $py: map.get(base.$dim-container-py, 'lg');
//   $gap-x: map.get(base.$dim-container-gx, 'lg');
//   $gap-y: map.get(base.$dim-container-gy, 'lg');

//   .container {
//     padding-block: $py;
//   }

//   .grp {
//     &-top {
//       max-width: min($w-max, 100% - 2 * $px);
//     }

//     &-bottom {
//       max-width: min($w-max, 100% - 2 * $px);
//     }
//   }
// }

// @media (width > map.get(base.$dim-bp-gt, 'xl')) {
// }

// @media (width > map.get(base.$dim-bp-gt, 'xxl')) {
//   $px: map.get(base.$dim-container-px, 'xxl');

//   .grp {
//     &-bottom {
//       display: grid;
//       grid-template-columns: minmax($px, 1fr) minmax(auto, $w-max) minmax(
//           $px,
//           1fr
//         );
//       column-gap: 1.5rem;
//       max-width: unset;
//     }
//   }

//   .nav {
//     position: relative;
//     grid-row: 1;
//     grid-column: 3;
//   }

//   .table {
//     position: sticky;
//     top: 0;
//   }

//   .article {
//     grid-row: 1;
//     grid-column: 2;
//   }
// }
